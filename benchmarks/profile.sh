sudo yum install -y perf git
nohup sudo perf record -a -g -F 11 > foo.log 2> foo.err < /dev/null &
nohup iostat 5 > profile_iostat.txt 2> foo.err < /dev/null &
nohup sudo perf stat -o profile_counters.csv -x , -a -e armv8_pmuv3_0/event=0x0010,name='BR_MIS_PRED'/,armv8_pmuv3_0/event=0x0011,name='CPU_CYCLES'/,armv8_pmuv3_0/event=0x003D,name='STALL_SLOT_BACKEND'/,armv8_pmuv3_0/event=0x003E,name='STALL_SLOT_FRONTEND'/,armv8_pmuv3_0/event=0x003A,name='OP_RETIRED'/,armv8_pmuv3_0/event=0x003B,name='OP_SPEC'/,armv8_pmuv3_0/event=0x003F,name='STALL_SLOT'/,armv8_pmuv3_0/event=0x0008,name='INST_RETIRED'/,armv8_pmuv3_0/event=0x0004,name='L1D_CACHE'/,armv8_pmuv3_0/event=0x0003,name='L1D_CACHE_REFILL'/,armv8_pmuv3_0/event=0x0025,name='L1D_TLB'/,armv8_pmuv3_0/event=0x0005,name='L1D_TLB_REFILL'/,armv8_pmuv3_0/event=0x0014,name='L1I_CACHE'/,armv8_pmuv3_0/event=0x0001,name='L1I_CACHE_REFILL'/,armv8_pmuv3_0/event=0x0026,name='L1I_TLB'/,armv8_pmuv3_0/event=0x0002,name='L1I_TLB_REFILL'/,armv8_pmuv3_0/event=0x0016,name='L2D_CACHE'/,armv8_pmuv3_0/event=0x0017,name='L2D_CACHE_REFILL'/,armv8_pmuv3_0/event=0x002F,name='L2D_TLB'/,armv8_pmuv3_0/event=0x002D,name='L2D_TLB_REFILL'/,armv8_pmuv3_0/event=0x0037,name='LL_CACHE_MISS_RD'/,armv8_pmuv3_0/event=0x0036,name='LL_CACHE_RD'/,armv8_pmuv3_0/event=0x001B,name='INST_SPEC'/,armv8_pmuv3_0/event=0x0070,name='LD_SPEC'/,armv8_pmuv3_0/event=0x0071,name='ST_SPEC'/,armv8_pmuv3_0/event=0x0075,name='VFP_SPEC'/,armv8_pmuv3_0/event=0x0074,name='ASE_SPEC'/,armv8_pmuv3_0/event=0x8006,name='SVE_INST_SPEC'/ > /dev/null 2> foo.err < /dev/null &